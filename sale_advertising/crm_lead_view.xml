<?xml version="1.0"?>
<openerp>
    <data>



        <!--
            LEADS
        -->


        <record model="ir.ui.view" id="crm_case_form_view_leads">
        <field name="name">CRM - Leads Form</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_form_view_leads"/>
        <field name="arch" type="xml">
            <data>
                <xpath  expr="/form/sheet/group/group/field[@name='partner_name']" position="attributes">
                    <attribute name="string">Advertiser Name</attribute>
                </xpath>
                <xpath  expr="/form/sheet/group/group/field[@name='partner_id']" position="attributes">
                    <attribute name="invisible">True</attribute>
                    <attribute name="on_change">onchange_partner(partner_id, context)</attribute>
                </xpath>
                <xpath  expr="/form/sheet/group/group/label[@for='street']" position="attributes">
                    <attribute name="string">Invoice Address Payer</attribute>
                </xpath>
                <xpath  expr="/form/sheet/group/group/field[@name='partner_id']" position="after">
                    <field name="partner_invoice_id" string="Payer Invoice Address" invisible="True"
                           domain="[('is_company','!=', True),('customer','=', True),('type', '=', 'invoice')]"/>
                    <field name="published_customer" string="Advertiser" domain="[('is_ad_agency','!=', True),('is_company','=', True),('customer','=', True)]"
                           on_change="onchange_published_customer(published_customer, context)" options="{'create': True, 'create_edit': False}"/>
                    <field name="ad_agency_id" string="Agency" domain="[('is_ad_agency','=', True),('customer','=',True), ('is_company','=', True)]"
                           on_change="onchange_agency(ad_agency_id, context)" attrs="{'invisible': [('published_customer','=',False)]}"
                           options="{'create': True, 'create_edit': True}"/>
                </xpath>
                <xpath  expr="/form/sheet/group/group/field[@name='email_from']" position="before">
                    <field name="partner_contact_id" string="Contact Person" context="{'default_parent_id': partner_id}"
                           domain="[('is_company', '=', False), ('customer', '=', True),('parent_id', '=', partner_id),('type', '=', 'contact')]"
                           on_change="onchange_contact(partner_contact_id, context)" attrs="{'invisible': [('published_customer','=',False)]}"
                           options="{'create': True, 'create_edit': True}"/>
                </xpath>
                <xpath  expr="/form/sheet/group/group/field[@name='user_id']" position="after">
                    <field name="partner_acc_mgr" string="Account Manager" readonly="True"/>
                </xpath>
                <xpath  expr="/form/sheet/group/group/label[@for='section_id']" position="attributes">
                    <attribute name="groups">base.groups_no_one</attribute>
                </xpath>
                <xpath  expr="/form/sheet/group/group[3]/div" position="attributes">
                    <attribute name="groups">base.groups_no_one</attribute>
                </xpath>
                <xpath  expr="/form/sheet/group/group[4]/field[@name='priority']" position="attributes">
                    <attribute name="groups">base.groups_no_one</attribute>
                </xpath>
                <xpath  expr="/form/sheet/group/group[4]/field[@name='categ_ids']" position="attributes">
                    <attribute name="string">Sales Projects</attribute>
                </xpath>
            </data>

        </field>
        </record>


        <!--
            OPPORTUNITY
        -->

        <!-- Opportunities Form View -->
        <record model="ir.ui.view" id="crm_case_form_view_oppor">
            <field name="name">Opportunities</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
            <field name="arch" type="xml">
                <button name="case_mark_won" position="attributes" >
                    <attribute name="invisible" >True</attribute>
                </button>
                <xpath  expr="/form/sheet/group/group/field[@name='partner_id']" position="attributes">
                    <attribute name="invisible">True</attribute>
                    <attribute name="on_change">onchange_partner(partner_id, context)</attribute>
                </xpath>
                <xpath  expr="/form/sheet/group/group/field[@name='partner_id']" position="after">
                    <field name="partner_invoice_id" string="Payer Invoice Address" invisible="True"
                           domain="[('is_company','!=', True),('customer','=', True),('type', '=', 'invoice')]"/>
                    <field name="published_customer" string="Advertiser" domain="[('is_ad_agency','!=', True),('is_company','=', True),('customer','=', True)]"
                           on_change="onchange_published_customer(published_customer, context)" options="{'create': True, 'create_edit': True}"/>
                    <field name="ad_agency_id" string="Agency" domain="[('is_ad_agency','=', True),('customer','=',True), ('is_company','=', True)]"
                           on_change="onchange_agency(ad_agency_id, context)" attrs="{'invisible': [('published_customer','=',False)]}"
                           options="{'create': True, 'create_edit': True}"/>
                </xpath>
                <xpath  expr="/form/sheet/notebook/page/group/group/label[@for='street']" position="attributes">
                    <attribute name="string">Invoice Address Payer</attribute>
                </xpath>
                <xpath  expr="/form/sheet/group/group/field[@name='email_from']" position="before">
                    <field name="partner_contact_id" string="Contact Person" context="{'default_parent_id': partner_id}"
                           domain="[('is_company', '=', False), ('customer', '=', True),('parent_id', '=', partner_id),('type', '=', 'contact')]"
                           on_change="onchange_contact(partner_contact_id, context)" attrs="{'invisible': [('published_customer','=',False)]}"
                           options="{'create': True, 'create_edit': True}"/>
                </xpath>
                <xpath  expr="/form/sheet/group/group/field[@name='user_id']" position="after">
                    <field name="partner_acc_mgr" string="Account Manager" readonly="True"/>
                </xpath>
                <xpath expr="/form/sheet/div/h2/field[@name='probability']" position="attributes">
                    <attribute name="readonly" >True</attribute>
                </xpath>
                <xpath expr="/form/sheet/group/group/field[@name='categ_ids']" position="attributes">
                    <attribute name="string" >Sales Projects</attribute>
                </xpath>
                <xpath expr="/form/sheet/group/group/field[@name='priority']" position="attributes">
                    <attribute name="groups" >base.groups_no_one</attribute>
                </xpath>
                <xpath expr="/form/sheet/group/group/label[@for='section_id']" position="attributes">
                    <attribute name="groups" >base.groups_no_one</attribute>
                </xpath>
                <xpath expr="/form/sheet/group/group[3]/div" position="attributes">
                    <attribute name="groups" >base.groups_no_one</attribute>
                </xpath>
                <!--xpath expr="/form/sheet/group/group/field[@name='categ_ids']" position="attributes">
                    <attribute name="options" >{'limit': 10, 'create': false, 'create_edit': false}</attribute>
                </xpath-->
                <xpath expr="/form/sheet/notebook/page/group/group//field[@name='partner_name']" position="attributes">
                    <attribute name="string" >Advertiser Name</attribute>
                </xpath>

                <!--xpath expr="/form/sheet/notebook/page/group/group/div/field[@name='title']" position="attributes">
                    <attribute name="options" >{'limit': 10, 'create': false, 'create_edit': false}</attribute>
                </xpath>
                <xpath expr="/form/sheet/notebook/page/group/group/div/div/field[@name='state_id']" position="attributes">
                    <attribute name="options" >{'no_show':True,'no_create':True,'no_open':True}</attribute>
                </xpath>
                <xpath expr="/form/sheet/notebook/page/group/group/div/field[@name='country_id']" position="attributes">
                    <attribute name="options" >{'limit': 10, 'create': false, 'create_edit': false}</attribute>
                </xpath-->

            </field>
		 </record>

        <record model="ir.ui.view" id="crm_case_form_view_oppor_manager">
            <field name="name">Opportunities</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="sale_advertising.crm_case_form_view_oppor"/>
            <field name="groups_id" eval="[(6,0,[ref('base.group_sale_manager')])]" />
            <field name="arch" type="xml">
                <button name="case_mark_won" position="attributes" >
                    <attribute name="invisible" >False</attribute>
                </button>
                <xpath expr="/form/sheet/div/h2/field[@name='probability']" position="attributes">
                    <attribute name="readonly" >False</attribute>
                </xpath>
            </field>
		 </record>



    </data>
</openerp>
